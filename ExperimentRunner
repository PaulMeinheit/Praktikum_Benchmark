class ExperimentRunner:
    def __init__(self, approximators, functions):
        self.approximators = approximators
        self.functions = functions

    def run(self):
        for func in self.functions:
            x = np.linspace(*func.domain, 100)
            y = func.evaluate(x)
            for approximator in self.approximators:
                approximator.train(x, y)
                y_pred = approximator.predict(x)
                self.plot_result(func, approximator, x, y, y_pred)

    def plot_result(self, func, approximator, x, y, y_pred):
        plt.plot(x, y, label="True")
        plt.plot(x, y_pred, label=f"Predicted by {approximator.name}")
        plt.title(f"{func.name} vs {approximator.name}")
        plt.legend()
        plt.show()
